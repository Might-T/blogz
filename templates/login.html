{% extends "base.html" %}

{% block content %}
<h1>Login!</h1>
<p>If you don't have an account, you may <a href="/signup">Signup</a> for one</p>
<form action="/login" method='POST'>
    <table>
        <tr>
            <td><label for="username">Username</label></td>
            <td>
                <input type="text" name="username" value="{{ username }}">
                {% with messages = get_flashed_messages(with_categories=True, category_filter=['usern']) %}
                <div>
                {% for category,message in messages %}
                <p class="{{category}}">{{message}}</p>
                {% endfor %}
                {% endwith %}
            </td>
        </tr>
        <tr>
            <td><label for="password">Password</label></td>
            <td>
                <input name="password" type="password">
                {% with messages = get_flashed_messages(with_categories=True, category_filter=['error']) %}
                <div>
                {% for category,message in messages %}
                <p class="{{category}}">{{message}}</p>
                {% endfor %}
                {% endwith %}
            </td>
        </tr>
    </table>
    <input type="submit" value="Login">
</form>
{% endblock %}